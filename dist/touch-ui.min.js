!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("touch-ui",[],e):"object"==typeof exports?exports["touch-ui"]=e():t["touch-ui"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=void 0,s=function(){function t(){return i(this,t),u||(u=this,this.startTouches=null,this.prevTouches=null,this.endTouches=null,this.startAt=null,this.lastTouchEventName=null,this.lastTouchEventAt=null,this.lastMove=null,this.holdHappened=!1,this.tapTimer=null,this.holdTimer=null,this.dragEl=null,this.init()),u}return a(t,[{key:"init",value:function(){this.tapTimer=null,this.holdTimer=null;var e=document.body;e.addEventListener(t.touchStart,this.touchStartHandler.bind(this),{passive:!0}),e.addEventListener(t.touchMove,this.touchMoveHandler.bind(this),{passive:!0}),e.addEventListener(t.touchEnd,this.touchEndHandler.bind(this),{passive:!0}),e.addEventListener(t.touchLeave,this.touchResetHandler.bind(this),{passive:!0})}},{key:"touchStartHandler",value:function(e){var n=this;this.startTouches=e.changedTouches||[e],this.startAt=(new Date).getTime(),this.holdHappened=!1,clearTimeout(this.tapTimer),clearTimeout(this.holdTimer),this.holdTimer=setTimeout(function(){var o="tap"===n.lastTouchEventName?"tap-and-hold":"double-tap"===n.lastTouchEventName?"double-tap-and-hold":"hold";t.fireTouchEvent(e.target,o,e),n.lastTouchEventName=o,n.holdHappened=!0,clearTimeout(n.holdTimer)},t.HOLD_TIME),this.prevTouches=this.startTouches}},{key:"touchMoveHandler",value:function(e){this.endTouches=e.changedTouches||[e],this.lastMove=t.calcMove(this.prevTouches,this.endTouches,0),this.getMove().distance>t.SMALL_MOVE&&(clearTimeout(this.holdTimer),clearTimeout(this.tapTimer)),this.prevTouches=this.endTouches}},{key:"touchEndHandler",value:function(e){if(this.endTouches=e.changedTouches||[e],this.getMove().distance<t.SMALL_MOVE){var n="tap"===this.lastTouchEventName?"double-tap":"double-tap"===this.lastTouchEventName?"triple-tap":"tap";t.fireTouchEvent(e.target,n,e),this.lastTouchEventName=n}this.touchResetHandler()}},{key:"touchResetHandler",value:function(e){var n=this;this.startTouches=null,this.startAt=null,this.prevTouches=null,this.endTouches=null,this.lastMove=null,this.holdHappened=!1,clearTimeout(this.holdTimer),this.tapTimer=setTimeout(function(){n.lastTouchEventName=null,n.lastTouchEventAt=null},t.LAST_EVENT_RESET_TIME)}},{key:"getMove",value:function(){return t.calcMove(this.startTouches,this.endTouches,0)}},{key:"getMoves",value:function(){var e=this.startTouches,n=this.endTouches,o={};return this.endTouches&&this.startTouches&&(!this.endTouches[1]&&this.simulatedTouch&&(this.endTouches[1]=this.simulatedTouch,this.startTouches[1]=this.simulatedTouch),2===this.endTouches.length&&(o.diffTouchDistance=t.getDistance(n[0],n[1])-t.getDistance(e[0],e[1]))),o}}]),t}();s.isTouch=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},s.SMALL_MOVE=10,s.HOLD_TIME=100,s.LAST_EVENT_RESET_TIME=300,s.touchStart=s.isTouch()?"touchstart":"mousedown",s.touchMove=s.isTouch()?"touchmove":"mousemove",s.touchEnd=s.isTouch()?"touchend":"mouseup",s.touchLeave=s.isTouch()?"touchleave":"mouseleave",s.touchEnter=s.isTouch()?"touchenter":"mouseenter",s.fireTouchEvent=function(t,e,n,o){var i=void 0;if(n.button)return!1;i=new CustomEvent(e,n);for(var r in o||{})i[r]=o[r];return i.eventName=e,n.clientX&&(i.button=n.button,i.which=n.which,i.clientX=n.clientX,i.clientY=n.clientY,i.pageX=n.pageX,i.pageY=n.pageY,i.screenX=n.screenX,i.screenY=n.screenY),n.touches&&(i.touches=n.touches),n.changedTouches&&(i.changedTouches=n.changedTouches),n.targetTouches&&(i.targetTouches=n.targetTouches),t.dispatchEvent(i),i},s.getStyle=function(t,e){var n=t.currentStyle?t.currentStyle:window.getComputedStyle(t,null);return e?n[e]:n},s.disableDefaultTouchBehaviour=function(t){return t.style.webkitTouchCallout="none",t.style.webkitUserSelect="none",t.style.mozUserSelect="none",t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t},s.calcMove=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={x:0,y:0,distance:0,direction:null},i=void 0,r=void 0,a=void 0,u=void 0,l=void 0,c=void 0;if(t&&e){i=t[n],r=e[n];var h=[i.clientX,i.clientY];a=h[0],u=h[1];var d=[r.clientX,r.clientY];l=d[0],c=d[1];var f=[l-a,c-u];o.x=f[0],o.y=f[1],o.direction=s.getDirection(i,r),o.distance=s.getDistance(i,r)}return o},s.getDistance=function(t,e){return Math.round(Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)))},s.getDirection=function(t,e){var n=void 0,o=void 0,i=void 0,r=void 0,a=void 0,u=void 0,s=[t.clientX,t.clientY];n=s[0],o=s[1];var l=[e.clientX,e.clientY];i=l[0],r=l[1];var c=[Math.abs(i-n),Math.abs(r-o)];return a=c[0],u=c[1],a>u&&n>i?"left":a>u&&n<=i?"right":a<=u&&o>r?"up":a<=u&&o<=r?"down":null},s.parseArguments=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(t))throw new Error("Invalid arguments. Must be an array");var n={elements:[],options:e};return t.forEach(function(t){if("string"==typeof t)n.elements=n.elements.concat([].concat(o(document.querySelectorAll(t))));else if(Array.isArray(t))n.elements=n.elements.concat(t);else if(t instanceof HTMLElement)n.elements.push(t);else if("object"===(void 0===t?"undefined":r(t)))for(var e in t)n.options[e]=t[e]}),n},s.getOverlappingEl=function(t,e){for(var n=t.getBoundingClientRect(),o=void 0,i=void 0,r=0;r<e.length;r++)if(o=e[r].getBoundingClientRect(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)){i=e[r];break}return i},e.default=s,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t),this.els=[];var e={axis:"xy"},n=a.default.parseArguments([].concat(Array.prototype.slice.call(arguments)),e),i=[n.elements,n.options];this.els=i[0],this.options=i[1],this.options.minHoldTime&&(a.default.HOLD_TIME=this.options.minHoldTime),this.touch,this.dragMoveFunc,this.dragEndFunc,this.dragStartAt,this.dragStartStyle,this.init()}return i(t,[{key:"init",value:function(){var t=this;this.touch=new a.default,this.dragMoveFunc=this.dragMoveHandler.bind(this),this.dragEndFunc=this.dragEndHandler.bind(this),this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener("hold",function(e){return t.addDragListeners(document.body)})}),this.dragStartAt=null}},{key:"addDragListeners",value:function(t){t.addEventListener(a.default.touchMove,this.dragMoveFunc),t.addEventListener(a.default.touchEnd,this.dragEndFunc),t.addEventListener(a.default.touchLeave,this.dragEndFunc)}},{key:"removeEventListeners",value:function(t){t.removeEventListener(a.default.touchMove,this.dragMoveFunc),t.removeEventListener(a.default.touchEnd,this.dragEndFunc),t.removeEventListener(a.default.touchLeave,this.dragEndFunc)}},{key:"dragMoveHandler",value:function(t){var e=void 0,n=void 0,o=void 0,i=void 0;this.dragStartAt?a.default.fireTouchEvent(this.touch.dragEl,"drag-move",t):(this.dragStartAt=(new Date).getTime(),this.touch.dragEl=t.target,a.default.fireTouchEvent(t.target,"drag-start",t),e=window.getComputedStyle(t.target,null),this.dragStartStyle={position:e.position,left:e.left,top:e.top,margin:e.margin,bcr:t.target.getBoundingClientRect()},t.target.style.position="absolute",t.target.style.margin=0),n=this.touch.getMove(),o=-1!==this.options.axis.indexOf("x")?n.x:0,i=-1!==this.options.axis.indexOf("y")?n.y:0,this.touch.dragEl.style.left=this.dragStartStyle.bcr.left+window.scrollX+o+"px",this.touch.dragEl.style.top=this.dragStartStyle.bcr.top+window.scrollY+i+"px"}},{key:"dragEndHandler",value:function(t){this.touch.dragEl&&(this.touch.dragEl.style.position=this.dragStartStyle.position,this.touch.dragEl.style.left=this.dragStartStyle.left,this.touch.dragEl.style.top=this.dragStartStyle.top,this.touch.dragEl.style.margin=this.dragStartStyle.margin,a.default.fireTouchEvent(this.touch.dragEl,"drag-end",t)),this.removeEventListeners(document.body),this.dragStartAt=0,this.touch.dragEl=null}}]),t}();a.default.draggable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchResize=e.TouchZoom=e.TouchPan=e.TouchSwipe=e.TouchDrop=e.TouchDrag=e.TouchUI=void 0;var i=n(0),r=o(i),a=n(1),u=o(a),s=n(3),l=o(s),c=n(4),h=o(c),d=n(5),f=o(d),v=n(6),p=o(v),g=n(7),y=o(g);e.TouchUI=r.default,e.TouchDrag=u.default,e.TouchDrop=l.default,e.TouchSwipe=h.default,e.TouchPan=f.default,e.TouchZoom=p.default,e.TouchResize=y.default,window&&(window.TouchUI=r.default)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t);var e=void 0;e=a.default.parseArguments([].concat(Array.prototype.slice.call(arguments))),this.dropzoneEls=[],this.options={};var n=[e.elements,e.options];this.dropzoneEls=n[0],this.options=n[1],this.touch=new a.default,this.savedDropzone=null,this.init()}return i(t,[{key:"init",value:function(){document.body.addEventListener(a.default.touchMove,this.touchMoveHandler.bind(this)),document.body.addEventListener(a.default.touchLeave,this.touchLeaveHandler.bind(this)),document.body.addEventListener(a.default.touchEnd,this.touchEndHandler.bind(this))}},{key:"touchMoveHandler",value:function(t){var e=void 0;this.touch.dragEl&&(e=a.default.getOverlappingEl(this.touch.dragEl,this.dropzoneEls),e&&!this.savedDropzone?(this.savedDropzone=e,a.default.fireTouchEvent(this.savedDropzone,"drag-enter",t,{dragEl:this.touch.dragEl})):this.savedDropzone&&e!==this.savedDropzone&&(a.default.fireTouchEvent(this.savedDropzone,"drag-leave",t,{dragEl:this.touch.dragEl}),this.savedDropzone=null))}},{key:"touchEndHandler",value:function(t){this.touch.dragEl&&this.savedDropzone&&a.default.fireTouchEvent(this.savedDropzone,"drop",t,{dragEl:this.touch.dragEl}),this.dropzone&&(this.dropzone=null)}},{key:"touchLeaveHandler",value:function(t){this.dropzone&&(this.dropzone=null)}}]),t}();a.default.droppable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t);var e=void 0,n=void 0;e={minMove:50},n=a.default.parseArguments([].concat(Array.prototype.slice.call(arguments)),e);var i=[n.elements,n.options];this.els=i[0],this.options=i[1],this.touch=new a.default,this.init()}return i(t,[{key:"init",value:function(){var t=this;this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener(a.default.touchEnd,t.touchEndHandler.bind(t),{passive:!0})})}},{key:"touchEndHandler",value:function(t){var e=void 0,n=void 0;this.touch.dragEl||(e=this.touch.getMove(),e.distance>this.options.minMove&&(n="swipe-"+e.direction,a.default.fireTouchEvent(t.target,n,t)))}}]),t}();a.default.swipable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t),this.els=[];var e=a.default.parseArguments([].concat(Array.prototype.slice.call(arguments))),n=[e.elements,e.options];this.els=n[0],this.options=n[1],this.touch,this.panStartAt,this.handlers={start:this.addPanListeners.bind(this),move:this.panMoveHandler.bind(this),end:this.panEndHandler.bind(this)},this.init()}return i(t,[{key:"init",value:function(){var t=this;this.touch=new a.default,this.panMoveFunc=this.handlers.move,this.panEndFunc=this.handlers.end,this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener(a.default.touchStart,t.handlers.start,{passive:!0})}),this.panStartAt=null}},{key:"addPanListeners",value:function(t){t.target.addEventListener(a.default.touchMove,this.handlers.move,{passive:!0}),t.target.addEventListener(a.default.touchEnd,this.handlers.end),t.target.addEventListener(a.default.touchLeave,this.handlers.end)}},{key:"removePanListeners",value:function(t){t.removeEventListener(a.default.touchMove,this.handlers.move),t.removeEventListener(a.default.touchEnd,this.handlers.end),t.removeEventListener(a.default.touchLeave,this.handlers.end)}},{key:"panMoveHandler",value:function(t){var e={move:this.touch.getMove(),lastMove:this.touch.lastMove};this.panStartAt?a.default.fireTouchEvent(t.target,"pan-move",t,e):(a.default.fireTouchEvent(t.target,"pan-start",t,e),this.panStartAt=(new Date).getTime())}},{key:"panEndHandler",value:function(t){this.panStartAt&&a.default.fireTouchEvent(t.target,"pan-end",t),this.removePanListeners(t.target),this.panStartAt=null}}]),t}();a.default.pannable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t),this.els=[];var e=a.default.parseArguments([].concat(Array.prototype.slice.call(arguments))),n=[e.elements,e.options];this.els=n[0],this.options=n[1],this.touch,this.zoomStartAt,this.handlers={start:this.addZoomListeners.bind(this),move:this.zoomMoveHandler.bind(this),end:this.zoomEndHandler.bind(this)},this.init()}return i(t,[{key:"init",value:function(){var t=this;this.touch=new a.default,this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener(a.default.touchStart,t.handlers.start,{passive:!0})})}},{key:"addZoomListeners",value:function(t){console.log(1111111111111,t.target),t.target.addEventListener(a.default.touchMove,this.handlers.move,{passive:!0}),t.target.addEventListener(a.default.touchEnd,this.handlers.end),t.target.addEventListener(a.default.touchLeave,this.handlers.end)}},{key:"removeZoomListeners",value:function(t){t.removeEventListener(a.default.touchMove,this.handlers.move),t.removeEventListener(a.default.touchEnd,this.handlers.end),t.removeEventListener(a.default.touchLeave,this.handlers.end)}},{key:"zoomMoveHandler",value:function(t){var e=this.touch.getMoves();!this.zoomStartAt&&Math.abs(e.diffTouchDistance)>20?(a.default.fireTouchEvent(t.target,"zoom-start",t,{moves:e}),this.zoomStartAt=(new Date).getTime()):this.zoomStartAt&&a.default.fireTouchEvent(t.target,"zoom-move",t,{moves:e})}},{key:"zoomEndHandler",value:function(t){this.zoomStartAt&&a.default.fireTouchEvent(t.target,"zoom-end",t),this.zoomStartAt=null,this.removeZoomListeners(t.target)}}]),t}();a.default.zoomable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(0),u=o(a),s=n(1),l=o(s),c=function(){function t(){i(this,t),this.els=[];var e={right:null,bottom:null},n=u.default.parseArguments([].concat(Array.prototype.slice.call(arguments)),e),o=[n.elements,n.options];this.els=o[0],this.options=o[1],this.init()}return r(t,[{key:"init",value:function(){var t=this,e=void 0;this.els.forEach(function(n){e=t.createResizeOverlays(n,t.options)}),this.dragStartAt=null}},{key:"resizeStartHandler",value:function(t){console.log("TouchResize .......resize-start",t)}},{key:"resizeMoveHandler",value:function(t){console.log("TouchResize .......resize-move",t)}},{key:"resizeEndHandler",value:function(t){console.log("TouchResize .......resize-end",t)}},{key:"createResizeOverlays",value:function(t,e){var n=this,o=void 0,i=void 0,r=void 0,a=void 0,u=void 0,s=void 0,c=void 0,h=t.getBoundingClientRect(),d=[];for(var f in e)i="right"===f?"x":"bottom"===f?"y":"xy",o=document.createElement("div"),o.setAttribute("resize-position",f),r="bottom"===f?h.bottom-1:"right"===f?h.top+1:0,a="bottom"===f?h.left+1:"right"===f?h.right+1:0,u="bottom"===f?h.width-2:"right"===f?3:0,s="bottom"===f?3:"right"===f?h.height-2:0,c="bottom"===f?"ns-resize":"right"===f?"ew-resize":0,o.style.cssText="\n        position: absolute;\n        top: "+r+"px;\n        left: "+a+"px;\n        width: "+u+"px;\n        height: "+s+"px;\n        cursor: "+c+";\n        background-color: rgba(0,0,0,0.1);\n        ",new l.default(o,{axis:i}),o.addEventListener("drag-start",function(e){e.resizeFor=t,n.handlers.resizeStart(e)}),o.addEventListener("drag-move",function(e){e.resizeFor=t,n.handlers.resizeMove(e)}),o.addEventListener("drag-end",function(e){e.resizeFor=t,n.handlers.resizeEnd(e)}),d.push(o);return d}}]),t}();u.default.resizable=function(){return new(Function.prototype.bind.apply(c,[null].concat(Array.prototype.slice.call(arguments))))},e.default=c,t.exports=e.default}])});