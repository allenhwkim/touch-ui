!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("touch-ui",[],e):"object"==typeof exports?exports["touch-ui"]=e():t["touch-ui"]=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=void 0,u=function(){function t(){return o(this,t),a||(a=this,this.startPosEvent=null,this.startAt=null,this.prevPosEvent=null,this.endPosEvent=null,this.lastTouchEventName=null,this.lastTouchEventAt=null,this.lastMove=null,this.holdHappened=!1,this.tapTimer=null,this.holdTimer=null,this.dragEl=null,this.init()),a}return r(t,[{key:"init",value:function(){this.tapTimer=null,this.holdTimer=null;var e=document.body;e.addEventListener(t.touchStart,this.touchStartHandler.bind(this),{passive:!0}),e.addEventListener(t.touchMove,this.touchMoveHandler.bind(this),{passive:!0}),e.addEventListener(t.touchEnd,this.touchEndHandler.bind(this),{passive:!0}),e.addEventListener(t.touchLeave,this.touchResetHandler.bind(this),{passive:!0})}},{key:"touchStartHandler",value:function(e){var n=this;this.startPosEvent=e,this.startAt=(new Date).getTime(),this.holeHappened=!1,clearTimeout(this.tapTimer),clearTimeout(this.holdTimer),this.holdTimer=setTimeout(function(){var o="tap"===n.lastTouchEventName?"tap-and-hold":"double-tap"===n.lastTouchEventName?"double-tap-and-hold":"hold";t.fireTouchEvent(e.target,o,e),n.lastTouchEventName=o,n.holdHappened=!0,clearTimeout(n.holdTimer)},t.HOLD_TIME),this.prevPosEvent=this.startPosEvent}},{key:"touchMoveHandler",value:function(e){this.endPosEvent=e,this.lastMove=t.calcMove(this.prevPosEvent,this.endPosEvent),this.getMove().length>t.SMALL_MOVE&&(clearTimeout(this.holdTimer),clearTimeout(this.tapTimer)),this.prevPosEvent=this.endPosEvent}},{key:"touchEndHandler",value:function(e){if(this.endPosEvent=e,this.getMove().length<t.SMALL_MOVE){var n="tap"===this.lastTouchEventName?"double-tap":"double-tap"===this.lastTouchEventName?"triple-tap":"tap";t.fireTouchEvent(e.target,n,e),this.lastTouchEventName=n}this.touchResetHandler()}},{key:"touchResetHandler",value:function(e){var n=this;this.startPosEvent=null,this.startAt=null,this.prevPosEvent=null,this.endPosEvent=null,this.lastMove=null,this.holdHappened=!1,clearTimeout(this.holdTimer),this.tapTimer=setTimeout(function(){n.lastTouchEventName=null,n.lastTouchEventAt=null},t.LAST_EVENT_RESET_TIME)}},{key:"getMove",value:function(){return t.calcMove(this.startPosEvent,this.endPosEvent)}}]),t}();e.default=u,u.isTouch=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},u.SMALL_MOVE=10,u.HOLD_TIME=100,u.LAST_EVENT_RESET_TIME=300,u.touchStart=u.isTouch()?"touchstart":"mousedown",u.touchMove=u.isTouch()?"touchmove":"mousemove",u.touchEnd=u.isTouch()?"touchend":"mouseup",u.touchLeave=u.isTouch()?"touchleave":"mouseleave",u.touchEnter=u.isTouch()?"touchenter":"mouseenter",u.fireTouchEvent=function(t,e,n,o){var i=void 0;if(n.button)return!1;i=new CustomEvent(e,n);for(var r in o||{})i[r]=o[r];return i.eventName=e,n.clientX&&(i.button=n.button,i.which=n.which,i.clientX=n.clientX,i.clientY=n.clientY,i.pageX=n.pageX,i.pageY=n.pageY,i.screenX=n.screenX,i.screenY=n.screenY),n.touches&&(i.touches=n.touches),n.changedTouches&&(i.changedTouches=n.changedTouches),n.targetTouches&&(i.targetTouches=n.targetTouches),t.dispatchEvent(i),i},u.getStyle=function(t,e){var n=void 0;return t.currentStyle?n=t.currentStyle[e]:window.getComputedStyle&&(n=window.getComputedStyle(t,null)[e]),n},u.getOverlappingEl=function(t,e){for(var n=t.getBoundingClientRect(),o=void 0,i=void 0,r=0;r<e.length;r++)if(o=e[r].getBoundingClientRect(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)){i=e[r];break}return i},u.disableDefaultTouchBehaviour=function(t){return t.style.webkitTouchCallout="none",t.style.webkitUserSelect="none",t.style.mozUserSelect="none",t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t},u.calcMove=function(t,e){var n={x:0,y:0,length:0,direction:null},o=void 0,i=void 0,r=void 0,a=void 0,u=void 0,s=void 0,l=void 0,h=void 0;if(t&&e){o=t.touches&&t.touches[0]?t.touches[0]:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t,i=e.touches&&e.touches[0]?e.touches[0]:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0]:e;var d=[o.clientX,o.clientY];r=d[0],a=d[1];var c=[i.clientX,i.clientY];u=c[0],s=c[1];var v=[u-r,s-a];n.x=v[0],n.y=v[1];var f=[Math.abs(n.x),Math.abs(n.y)];l=f[0],h=f[1],n.direction=l>h&&r>u?"left":l>h&&r<=u?"right":l<=h&&a>s?"up":l<=h&&a<=s?"down":null,n.length=Math.floor(Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)))}return n},u.parseArguments=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={elements:[],options:e};return t.forEach(function(t){if(Array.isArray(t))n.elements=n.elements.concat(t);else if(t instanceof HTMLElement)n.elements.push(t);else if("object"===(void 0===t?"undefined":i(t)))for(var e in t)n.options[e]=t[e]}),n},u.getOverlappingEl=function(t,e){for(var n=t.getBoundingClientRect(),o=void 0,i=void 0,r=0;r<e.length;r++)if(o=e[r].getBoundingClientRect(),!(n.right<o.left||n.left>o.right||n.bottom<o.top||n.top>o.bottom)){i=e[r];break}return i},t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchPan=e.TouchSwipe=e.TouchDrop=e.TouchDrag=e.TouchUI=void 0;var i=n(0),r=o(i),a=n(2),u=o(a),s=n(3),l=o(s),h=n(4),d=o(h),c=n(5),v=o(c);e.TouchUI=r.default,e.TouchDrag=u.default,e.TouchDrop=l.default,e.TouchSwipe=d.default,e.TouchPan=v.default,window&&(window.TouchUI=r.default)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t),this.els=[];var e={axis:"xy"},n=a.default.parseArguments(Array.from(arguments),e),i=[n.elements,n.options];this.els=i[0],this.options=i[1],this.options.minHoldTime&&(a.default.HOLD_TIME=this.options.minHoldTime),this.touch,this.dragMoveFunc,this.dragEndFunc,this.dragStartAt,this.dragStartStyle,this.init()}return i(t,[{key:"init",value:function(){var t=this;this.touch=new a.default,this.dragMoveFunc=this.dragMoveHandler.bind(this),this.dragEndFunc=this.dragEndHandler.bind(this),this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener("hold",function(e){return t.addDragListeners(document.body)})}),this.dragStartAt=null}},{key:"addDragListeners",value:function(t){t.addEventListener(a.default.touchMove,this.dragMoveFunc),t.addEventListener(a.default.touchEnd,this.dragEndFunc),t.addEventListener(a.default.touchLeave,this.dragEndFunc)}},{key:"removeEventListeners",value:function(t){t.removeEventListener(a.default.touchMove,this.dragMoveFunc),t.removeEventListener(a.default.touchEnd,this.dragEndFunc),t.removeEventListener(a.default.touchLeave,this.dragEndFunc)}},{key:"dragMoveHandler",value:function(t){var e=void 0,n=void 0,o=void 0,i=void 0;this.dragStartAt?a.default.fireTouchEvent(this.touch.dragEl,"drag-move",t):(this.dragStartAt=(new Date).getTime(),this.touch.dragEl=t.target,a.default.fireTouchEvent(t.target,"drag-start",t),e=window.getComputedStyle(t.target,null),this.dragStartStyle={position:e.position,left:e.left,top:e.top,margin:e.margin,bcr:t.target.getBoundingClientRect()},t.target.style.position="absolute",t.target.style.margin=0),n=this.touch.getMove(),o=-1!==this.options.axis.indexOf("x")?n.x:0,i=-1!==this.options.axis.indexOf("y")?n.y:0,this.touch.dragEl.style.left=this.dragStartStyle.bcr.left+window.scrollX+o+"px",this.touch.dragEl.style.top=this.dragStartStyle.bcr.top+window.scrollY+i+"px"}},{key:"dragEndHandler",value:function(t){this.touch.dragEl&&(this.touch.dragEl.style.position=this.dragStartStyle.position,this.touch.dragEl.style.left=this.dragStartStyle.left,this.touch.dragEl.style.top=this.dragStartStyle.top,this.touch.dragEl.style.margin=this.dragStartStyle.margin,a.default.fireTouchEvent(this.touch.dragEl,"drag-end",t)),this.removeEventListeners(document.body),this.dragStartAt=0,this.touch.dragEl=null}}]),t}();a.default.draggable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t);var e=void 0;e=a.default.parseArguments(Array.from(arguments)),this.dropzoneEls=[],this.options={};var n=[e.elements,e.options];this.dropzoneEls=n[0],this.options=n[1],this.touch=new a.default,this.savedDropzone=null,this.init()}return i(t,[{key:"init",value:function(){document.body.addEventListener(a.default.touchMove,this.touchMoveHandler.bind(this)),document.body.addEventListener(a.default.touchLeave,this.touchLeaveHandler.bind(this)),document.body.addEventListener(a.default.touchEnd,this.touchEndHandler.bind(this))}},{key:"touchMoveHandler",value:function(t){var e=void 0;this.touch.dragEl&&(e=a.default.getOverlappingEl(this.touch.dragEl,this.dropzoneEls),e&&!this.savedDropzone?(this.savedDropzone=e,a.default.fireTouchEvent(this.savedDropzone,"drag-enter",t,{dragEl:this.touch.dragEl})):this.savedDropzone&&e!==this.savedDropzone&&(a.default.fireTouchEvent(this.savedDropzone,"drag-leave",t,{dragEl:this.touch.dragEl}),this.savedDropzone=null))}},{key:"touchEndHandler",value:function(t){this.touch.dragEl&&this.savedDropzone&&a.default.fireTouchEvent(this.savedDropzone,"drop",t,{dragEl:this.touch.dragEl}),this.dropzone&&(this.dropzone=null)}},{key:"touchLeaveHandler",value:function(t){this.dropzone&&(this.dropzone=null)}}]),t}();a.default.droppable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t);var e=void 0,n=void 0;e={minMove:50},n=a.default.parseArguments(Array.from(arguments),e);var i=[n.elements,n.options];this.els=i[0],this.options=i[1],this.touch=new a.default,this.init()}return i(t,[{key:"init",value:function(){var t=this;this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener(a.default.touchMove,t.touchMoveHandler.bind(t),{passive:!0})})}},{key:"touchMoveHandler",value:function(t){var e=void 0,n=void 0;this.touch.dragEl||(e=this.touch.getMove(),e.length>this.options.minMove&&(n="swipe-"+e.direction,a.default.fireTouchEvent(t.target,n,t)))}}]),t}();a.default.swipable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),u=function(){function t(){o(this,t),this.els=[];var e=a.default.parseArguments([].concat(Array.prototype.slice.call(arguments))),n=[e.elements,e.options];this.els=n[0],this.options=n[1],this.touch,this.panStartAt,this.handlers={start:this.addPanListeners.bind(this),move:this.panMoveHandler.bind(this),end:this.panEndHandler.bind(this)},this.init()}return i(t,[{key:"init",value:function(){var t=this;this.touch=new a.default,this.panMoveFunc=this.handlers.move,this.panEndFunc=this.handlers.end,this.els.forEach(function(e){a.default.disableDefaultTouchBehaviour(e),e.addEventListener(a.default.touchStart,t.handlers.start)}),this.panStartAt=null}},{key:"addPanListeners",value:function(t){t.target.addEventListener(a.default.touchMove,this.handlers.move),t.target.addEventListener(a.default.touchEnd,this.handlers.end),t.target.addEventListener(a.default.touchLeave,this.handlers.end)}},{key:"removePanListeners",value:function(t){t.removeEventListener(a.default.touchMove,this.handlers.move),t.removeEventListener(a.default.touchEnd,this.handlers.end),t.removeEventListener(a.default.touchLeave,this.handlers.end)}},{key:"panMoveHandler",value:function(t){var e={move:this.touch.getMove(),lastMove:this.touch.lastMove};this.panStartAt?a.default.fireTouchEvent(t.target,"pan-move",t,e):(a.default.fireTouchEvent(t.target,"pan-start",t,e),this.panStartAt=(new Date).getTime())}},{key:"panEndHandler",value:function(t){this.panStartAt&&a.default.fireTouchEvent(t.target,"pan-end",t),this.removePanListeners(t.target),this.panStartAt=null}}]),t}();a.default.pannable=function(){return new(Function.prototype.bind.apply(u,[null].concat(Array.prototype.slice.call(arguments))))},e.default=u,t.exports=e.default}])});