!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Library",[],e):"object"==typeof exports?exports.Library=e():t.Library=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchSwipe=e.TouchDrop=e.TouchDrag=e.TouchUI=void 0;var i=o(1),r=n(i),u=o(2),a=n(u),s=o(3),h=n(s),l=o(4),c=n(l);e.TouchUI=r.default,e.TouchDrag=a.default,e.TouchDrop=h.default,e.TouchSwipe=c.default},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=void 0,a=function(){function t(){return n(this,t),u||(u=this,this.startPosEvent=null,this.startAt=null,this.prevPosEvent=null,this.endPosEvent=null,this.lastTouchEventName=null,this.lastTouchEventAt=null,this.lastMove=null,this.holdHappened=!1,this.tapTimer=null,this.holdTimer=null,this.dragEl=null,this.init()),u}return r(t,[{key:"init",value:function(){this.tapTimer=null,this.holdTimer=null;var e=document.body;e.addEventListener(t.touchStart,this.touchStartHandler.bind(this),{passive:!0}),e.addEventListener(t.touchMove,this.touchMoveHandler.bind(this),{passive:!0}),e.addEventListener(t.touchEnd,this.touchEndHandler.bind(this),{passive:!0}),e.addEventListener(t.touchLeave,this.touchResetHandler.bind(this),{passive:!0})}},{key:"touchStartHandler",value:function(e){var o=this;this.startPosEvent=e,this.startAt=(new Date).getTime(),this.holeHappened=!1,clearTimeout(this.tapTimer),clearTimeout(this.holdTimer),this.holdTimer=setTimeout(function(){var n="tap"==o.lastTouchEventName?"tap-and-hold":"double-tap"==o.lastTouchEventName?"double-tap-and-hold":"hold";t.fireTouchEvent(e.target,n,e),o.lastTouchEventName=n,o.holdHappened=!0,clearTimeout(o.holdTimer)},t.HOLD_TIME),this.prevPosEvent=this.startPosEvent}},{key:"touchMoveHandler",value:function(e){this.endPosEvent=e,this.lastMove=t.calcMove(this.prevPosEvent,this.endPosEvent),this.getMove().length>t.SMALL_MOVE&&(clearTimeout(this.holdTimer),clearTimeout(this.tapTimer)),this.prevPosEvent=this.endPosEvent}},{key:"touchEndHandler",value:function(e){if(this.endPosEvent=e,this.getMove().length<t.SMALL_MOVE){var o="tap"==this.lastTouchEventName?"double-tap":"double-tap"==this.lastTouchEventName?"triple-tap":"tap";t.fireTouchEvent(e.target,o,e),this.lastTouchEventName=o}this.touchResetHandler()}},{key:"touchResetHandler",value:function(e){var o=this;this.startPosEvent=null,this.startAt=null,this.prevPosEvent=null,this.endPosEvent=null,this.lastMove=null,this.holdHappened=!1,clearTimeout(this.holdTimer),this.tapTimer=setTimeout(function(){o.lastTouchEventName=null,o.lastTouchEventAt=null},t.LAST_EVENT_RESET_TIME)}},{key:"getMove",value:function(){return t.calcMove(this.startPosEvent,this.endPosEvent)}}]),t}();e.default=a,a.isTouch=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},a.SMALL_MOVE=10,a.HOLD_TIME=100,a.LAST_EVENT_RESET_TIME=300,a.touchStart=a.isTouch()?"touchstart":"mousedown",a.touchMove=a.isTouch()?"touchmove":"mousemove",a.touchEnd=a.isTouch()?"touchend":"mouseup",a.touchLeave=a.isTouch()?"touchleave":"mouseleave",a.touchEnter=a.isTouch()?"touchenter":"mouseenter",a.fireTouchEvent=function(t,e,o,n){var i=void 0;if(!(o instanceof TouchEvent)){if(o.button)return!1;var r=new Touch({identifier:Math.ceil(Math.random()*Math.pow(10,12)),target:o.target,clientX:o.clientX,clientY:o.clientY,screenX:o.screenX,screenY:o.screenY,pageX:o.pageX||0,pageY:o.pageY||0,radiusX:0,radiusY:0,rotationAngle:0,force:0});i=new TouchEvent(e,{touches:[r],targetTouches:[r],changedTouches:[r]})}var u=new TouchEvent(e,i);for(var a in n||{})u[a]=n[a];u.eventName=e,t.dispatchEvent(u)},a.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null)[e]:void 0},a.getOverlappingEl=function(t,e){for(var o=t.getBoundingClientRect(),n=void 0,i=0;i<e.length;i++)if(n=e[i].getBoundingClientRect(),!(o.right<n.left||o.left>n.right||o.bottom<n.top||o.top>n.bottom))return e[i]},a.disableDefaultTouchBehaviour=function(t){t.style.webkitTouchCallout="none",t.style.webkitUserSelect="none",t.style.mozUserSelect="none",t.style.webkitTapHighlightColor="rgba(0,0,0,0)"},a.calcMove=function(t,e){var o={x:0,y:0,length:0,direction:null},n=void 0,i=void 0,r=void 0,u=void 0,a=void 0,s=void 0,h=void 0,l=void 0;if(t&&e){n=t.touches&&t.touches[0]?t.touches[0]:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t,i=e.touches&&e.touches[0]?e.touches[0]:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0]:e;var c=[n.clientX,n.clientY];r=c[0],u=c[1];var d=[i.clientX,i.clientY];a=d[0],s=d[1];var v=[a-r,s-u];o.x=v[0],o.y=v[1];var f=[Math.abs(o.x),Math.abs(o.y)];h=f[0],l=f[1],o.direction=h>l&&r>a?"left":h>l&&r<=a?"right":h<=l&&u>s?"up":h<=l&&u<=s?"down":null,o.length=Math.floor(Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2)))}return o},a.parseArguments=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={elements:[],options:e};return t.forEach(function(t){if(Array.isArray(t))o.elements=o.elements.concat(t);else if(t instanceof HTMLElement)o.elements.push(t);else if("object"===(void 0===t?"undefined":i(t)))for(var e in t)o.options[e]=t[e]}),o},a.getOverlappingEl=function(t,e){for(var o=t.getBoundingClientRect(),n=void 0,i=0;i<e.length;i++)if(n=e[i].getBoundingClientRect(),!(o.right<n.left||o.left>n.right||o.bottom<n.top||o.top>n.bottom))return e[i]},t.exports=e.default},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=function(){function t(){n(this,t),this.els=[];var e={axis:"xy"},o=TouchUI.parseArguments(Array.from(arguments),e),i=[o.elements,o.options];this.els=i[0],this.options=i[1],this.options.minHoldTime&&(TouchUI.HOLD_TIME=options.minHoldTime),this.touch,this.dragMoveFunc,this.dragEndFunc,this.dragStartAt,this.dragStartStyle,this.init()}return i(t,[{key:"init",value:function(){var t=this;this.touch=new TouchUI,this.dragMoveFunc=this.dragMoveHandler.bind(this),this.dragEndFunc=this.dragEndHandler.bind(this),this.els.forEach(function(e){TouchUI.disableDefaultTouchBehaviour(e),e.addEventListener("hold",function(e){return t.addDragListeners(document.body)})}),this.dragStartAt=null}},{key:"addDragListeners",value:function(t){t.addEventListener(TouchUI.touchMove,this.dragMoveFunc),t.addEventListener(TouchUI.touchEnd,this.dragEndFunc),t.addEventListener(TouchUI.touchLeave,this.dragEndFunc)}},{key:"removeEventListeners",value:function(t){t.removeEventListener(TouchUI.touchMove,this.dragMoveFunc),t.removeEventListener(TouchUI.touchEnd,this.dragEndFunc),t.removeEventListener(TouchUI.touchLeave,this.dragEndFunc)}},{key:"dragMoveHandler",value:function(t){if(this.dragStartAt)TouchUI.fireTouchEvent(this.touch.dragEl,"drag-move",t);else{this.dragStartAt=(new Date).getTime(),this.touch.dragEl=t.target,TouchUI.fireTouchEvent(t.target,"drag-start",t);var e=window.getComputedStyle(t.target,null);this.dragStartStyle={position:e.position,left:e.left,top:e.top,margin:e.margin,bcr:t.target.getBoundingClientRect()},t.target.style.position="absolute",t.target.style.margin=0}var o=this.touch.getMove(),n=-1!==this.options.axis.indexOf("x")?o.x:0,i=-1!==this.options.axis.indexOf("y")?o.y:0;this.touch.dragEl.style.left=this.dragStartStyle.bcr.left+window.scrollX+n+"px",this.touch.dragEl.style.top=this.dragStartStyle.bcr.top+window.scrollY+i+"px"}},{key:"dragEndHandler",value:function(t){this.touch.dragEl&&(this.touch.dragEl.style.position=this.dragStartStyle.position,this.touch.dragEl.style.left=this.dragStartStyle.left,this.touch.dragEl.style.top=this.dragStartStyle.top,this.touch.dragEl.style.margin=this.dragStartStyle.margin,TouchUI.fireTouchEvent(this.touch.dragEl,"drag-end",t)),this.removeEventListeners(document.body),this.dragStartAt=0,this.touch.dragEl=null}}]),t}();e.default=r,t.exports=e.default},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=function(){function t(){n(this,t),this.dropzoneEls=[],this.options={};var e=TouchUI.parseArguments(Array.from(arguments)),o=[e.elements,e.options];this.dropzoneEls=o[0],this.options=o[1],console.log("TouchDrop",this.dropzoneEls,this.options),this.touch=new TouchUI,this.savedDropzone=null,this.init()}return i(t,[{key:"init",value:function(){document.body.addEventListener(TouchUI.touchMove,this.touchMoveHandler.bind(this)),document.body.addEventListener(TouchUI.touchLeave,this.touchLeaveHandler.bind(this)),document.body.addEventListener(TouchUI.touchEnd,this.touchEndHandler.bind(this))}},{key:"touchMoveHandler",value:function(t){if(this.touch.dragEl){var e=TouchUI.getOverlappingEl(this.touch.dragEl,this.dropzoneEls);e&&!this.savedDropzone?(this.savedDropzone=e,TouchUI.fireTouchEvent(this.savedDropzone,"drag-enter",t,{dragEl:this.touch.dragEl})):this.savedDropzone&&e!==this.savedDropzone&&(TouchUI.fireTouchEvent(this.savedDropzone,"drag-leave",t,{dragEl:this.touch.dragEl}),this.savedDropzone=null)}}},{key:"touchEndHandler",value:function(t){this.touch.dragEl&&this.savedDropzone&&TouchUI.fireTouchEvent(this.savedDropzone,"drop",t,{dragEl:this.touch.dragEl}),this.dropzone&&(this.dropzone=null)}},{key:"touchLeaveHandler",value:function(t){this.dropzone&&(this.dropzone=null)}}]),t}();e.default=r,t.exports=e.default},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=function(){function t(){n(this,t),this.els=[];var e={minMove:50},o=TouchUI.parseArguments(Array.from(arguments),e),i=[o.elements,o.options];this.els=i[0],this.options=i[1],this.touch=new TouchUI,this.init()}return i(t,[{key:"init",value:function(){var t=this;this.els.forEach(function(e){TouchUI.disableDefaultTouchBehaviour(e),e.addEventListener(TouchUI.touchMove,t.touchMoveHandler.bind(t),{passive:!0})})}},{key:"touchMoveHandler",value:function(t){if(!this.touch.dragEl){var e=this.touch.getMove();if(e.length>this.options.minMove){var o="swipe-"+e.direction;TouchUI.fireTouchEvent(t.target,o,t)}}}}]),t}();e.default=r,t.exports=e.default}])});